# WGS Analysis Pipeline Configuration - Server Profile
# Optimized for high-performance servers and HPC environments
# Target: 128GB+ RAM, 32+ cores, fast storage

# System Resource Configuration
PROFILE_NAME="server"
PROFILE_DESCRIPTION="High-performance server optimization (128GB+ RAM)"
MAX_MEMORY_GB=128
MAX_THREADS=32

# Thread Configuration (High Performance)
FASTP_THREADS=16
BWA_THREADS=32
SAMTOOLS_THREADS=16
BCFTOOLS_THREADS=16
FASTQC_THREADS=8

# Memory Limits (High Performance)
BWA_MEM_LIMIT="64G"
SAMTOOLS_MEMORY="32G"
JAVA_MEMORY="-Xmx32g"

# Quality Control Settings (Comprehensive)
FASTP_QUALITY_THRESHOLD=20
FASTP_MIN_LENGTH=50
FASTP_UNQUALIFIED_PERCENT_LIMIT=25

# Processing Settings
BWA_BATCH_SIZE=50000000  # Large batches for maximum efficiency
ENABLE_COMPRESSION=false  # Prioritize speed over disk space
COMPRESSION_LEVEL=1       # Minimal compression

# Temporary Directory Management
USE_LOCAL_TMP=false       # Use fast shared storage
CLEANUP_INTERMEDIATE=false # Keep all intermediate files
MAX_TEMP_SIZE_GB=1000

# Monitoring Settings
RESOURCE_MONITOR_INTERVAL=15  # Frequent monitoring
MEMORY_WARNING_THRESHOLD=95
DISK_WARNING_THRESHOLD=80

# Output Settings
KEEP_INTERMEDIATE_FILES=true
GENERATE_QC_PLOTS=true
DETAILED_LOGGING=true

# Pipeline Behavior
ENABLE_CHECKPOINTS=true
AUTO_RESUME=true
FAIL_ON_WARNING=false
VALIDATION_LEVEL="comprehensive"

# Disk Management
ENABLE_DISK_MONITORING=true
MIN_DISK_SPACE_GB=500
AUTO_CLEANUP_ON_SUCCESS=false

# Notification Settings
ENABLE_NOTIFICATIONS=true
PROGRESS_UPDATES=true
QUIET_MODE=false

# Tool-specific optimizations
FASTQC_MEMORY="8192m"
VEP_BUFFER_SIZE=20000
VEP_FORK=16

# Error Handling
MAX_RETRIES=3
RETRY_DELAY=120
CONTINUE_ON_ERROR=false

# Advanced Features
ENABLE_PARALLEL_STEPS=true
ENABLE_MEMORY_MAPPING=true
USE_SHARED_MEMORY=true
ENABLE_NUMA_OPTIMIZATION=true
USE_HUGEPAGES=true

# HPC-specific Settings
ENABLE_SLURM_INTEGRATION=false
SLURM_PARTITION=""
SLURM_QOS=""
ENABLE_MPI=false

# Performance Tuning
IO_SCHEDULER="deadline"
READ_AHEAD_KB=8192
SWAPPINESS=1

# Comments
# This profile maximizes:
# - Processing speed and throughput
# - Comprehensive analysis quality
# - Full feature utilization
# - Detailed monitoring and logging
# Suitable for: Production servers, HPC clusters, high-throughput environments