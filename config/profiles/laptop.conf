# WGS Analysis Pipeline Configuration - Laptop Profile
# Optimized for laptops and low-resource systems
# Target: 8-16GB RAM, 2-4 cores, limited disk space

# System Resource Configuration
PROFILE_NAME="laptop"
PROFILE_DESCRIPTION="Laptop/low-resource optimization (8-16GB RAM)"
MAX_MEMORY_GB=8
MAX_THREADS=2

# Thread Configuration (Conservative)
FASTP_THREADS=2
BWA_THREADS=2
SAMTOOLS_THREADS=2
BCFTOOLS_THREADS=2
FASTQC_THREADS=1

# Memory Limits (Conservative)
BWA_MEM_LIMIT="4G"
SAMTOOLS_MEMORY="2G"
JAVA_MEMORY="-Xmx2g"

# Quality Control Settings (Aggressive to reduce data size)
FASTP_QUALITY_THRESHOLD=30
FASTP_MIN_LENGTH=100
FASTP_UNQUALIFIED_PERCENT_LIMIT=15

# Processing Settings
BWA_BATCH_SIZE=5000000  # Smaller batches
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=9     # Maximum compression to save disk space

# Temporary Directory Management
USE_LOCAL_TMP=true
CLEANUP_INTERMEDIATE=true  # Aggressive cleanup to save space
MAX_TEMP_SIZE_GB=20

# Monitoring Settings
RESOURCE_MONITOR_INTERVAL=60  # More frequent monitoring
MEMORY_WARNING_THRESHOLD=85
DISK_WARNING_THRESHOLD=90

# Output Settings
KEEP_INTERMEDIATE_FILES=false
GENERATE_QC_PLOTS=false  # Skip to save processing time
DETAILED_LOGGING=false

# Pipeline Behavior
ENABLE_CHECKPOINTS=true
AUTO_RESUME=true
FAIL_ON_WARNING=false
VALIDATION_LEVEL="basic"

# Disk Management
ENABLE_DISK_MONITORING=true
MIN_DISK_SPACE_GB=50
AUTO_CLEANUP_ON_SUCCESS=true

# Notification Settings (Disabled for laptops)
ENABLE_NOTIFICATIONS=false
PROGRESS_UPDATES=true
QUIET_MODE=false

# Tool-specific optimizations
FASTQC_MEMORY="1024m"
VEP_BUFFER_SIZE=1000
VEP_FORK=1

# Error Handling
MAX_RETRIES=1
RETRY_DELAY=30
CONTINUE_ON_ERROR=false

# Comments
# This profile prioritizes:
# - Low memory usage
# - Disk space conservation
# - Stability over speed
# - Minimal resource consumption
# Suitable for: Personal laptops, development environments, testing